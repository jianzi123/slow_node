# NCCL Environment Configuration
# Source this file or use with: export $(cat nccl_env.conf | xargs)

# NCCL Debug Level
# Options: VERSION, WARN, INFO, TRACE
NCCL_DEBUG=INFO

# InfiniBand Configuration
NCCL_IB_DISABLE=0                 # 0 = enable IB, 1 = disable IB
NCCL_IB_HCA=mlx5                  # IB device name (mlx5, mlx4, etc.)
NCCL_IB_GID_INDEX=3               # GID index for RoCE
NCCL_NET_GDR_LEVEL=5              # GPU Direct RDMA level (0-5)
NCCL_IB_TIMEOUT=22                # IB timeout value

# Network Interface
NCCL_SOCKET_IFNAME=eth0           # Network interface to use

# Performance Tuning
NCCL_BUFFSIZE=8388608             # Buffer size (8MB)
NCCL_NTHREADS=256                 # Number of threads per rank
NCCL_RINGS=8                      # Number of rings for collective operations

# Topology
NCCL_TOPO_DUMP_FILE=/tmp/nccl_topo.xml  # Dump topology to file (optional)

# P2P Configuration
NCCL_P2P_DISABLE=0                # 0 = enable P2P, 1 = disable P2P
NCCL_P2P_LEVEL=SYS                # P2P level: NVL, PIX, PXB, PHB, SYS

# SHM Configuration
NCCL_SHM_DISABLE=0                # 0 = enable shared memory, 1 = disable

# Algorithm Selection (optional, usually auto is best)
# NCCL_ALGO=Ring                  # Algorithm: Tree, Ring, CollNet

# For debugging network issues
# NCCL_DEBUG_SUBSYS=INIT,GRAPH,ENV,TUNING,NET,VERSION
